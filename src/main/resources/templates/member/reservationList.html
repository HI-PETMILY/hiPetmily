<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8"/>
    <link href="https://unpkg.com/ress/dist/ress.min.css" rel="stylesheet" type="text/css">
<!--    <script type="text/javascript" src="/js/member/event.js"></script>-->
    <link href="/css/member/style_.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500&family=Roboto:ital,wght@0,400;1,300&display=swap"
          rel="stylesheet">

    <link rel="icon" type="image/x-icon" sizes="16x16" href="/static_Image/common/main/favicon.ico">
    <link rel="stylesheet" href="/css/common/headerFooter.css"/>

</head>
<body>

<div th:replace="common/header_white.html"></div>

<div id="reservation-history" class="myPageMain-container">

    <div class="left-navi"></div>

    <div class="myPageMainWrapper">
        <h2 class="mainTitle">지난 예약 조회</h2>
        <div class="nav-line"></div>
        <table align="center" class="reserve-table">
            <tr>
                <th class="col1">예약코드</th>
                <th class="col2">예약 일자</th>
                <th class="col3">서비스 일자</th>
                <th class="col4">펫시터</th>
                <th class="cos5">예약상태</th>
                <th class="col6">후기작성</th>
            </tr>
        </table>
        <div class="res_history_box" th:each="resHistory : ${ reservationHistoryList }">

            <tr th:if="${ #lists.isEmpty(resHistory) }">
                <td colspan="5">예약 결과가 존재하지 않습니다. 펫밀리의 서비스를 이용해보세요!</td>
            </tr>
<!--            <tr th:if="${ resHistory.resMember.memberNo == loginMember }">-->
            <table align="center" class="reserve-table">
                <td class="col1" th:text="${ resHistory.resCode }"></td>
                <td class="col2" th:text="${ resHistory.resAppDate }"></td>
                <td class="col3" th:text="${ resHistory.startDateTime }"></td>
                <td class="col4" th:text="${ resHistory.resPetSitter.petMemberNo }"></td>
                <td class="col5" th:text="${ resHistory.resStatus }"></td>
                <td class="col6">
                    <span th:if="${ resHistory.resStatus == '완료' }">
                        <form action="/member/review-write" method="post">
                        <input type="hidden" name="resCode" th:value="${resHistory.resCode}" />
<!--                        <input type="hidden" name="petMemberNo" th:value="${resHistory.resPetSitter.petMemberNo}" />-->
                    <a th:href="'/member/review-write?resCode=' + ${ resHistory.resCode }">후기작성</a>
                        </form>
                    </span></td>
                <td class="col6" th:if="${ resHistory.resStatus == '취소' }">예약취소</td>

            </table>
            </tr>

        </div>
    </div>

</div>


<!--        &lt;!&ndash; 페이징 바 &ndash;&gt;-->
<!--        <div id="paging" align="center" style="margin-top: 20px;">-->

<!--            &lt;!&ndash; 맨 앞으로 이동 &ndash;&gt;-->
<!--            <button-->
<!--                    th:onclick="'location.href=\'/member/reserve-history?page=1&searchCondition=' + @{${paging.searchCondition}} + '&searchValue=' + @{${paging.searchValue}} + '\''">&lt;&lt;</button>-->
<!--            &lt;!&ndash; \:URL이 구성 될 javascript 문자열의 시작 + @{}:Thymeleaf표현식, ${}:Thymeleaf변수로 값들이 URL문자열로 연결 + \자스 문자열 닫음 &ndash;&gt;-->
<!--            &lt;!&ndash; "온클릭 속성 '문자열? \자스 &ndash;&gt;-->

<!--            &lt;!&ndash; 이전 페이지로 이동 &ndash;&gt;-->
<!--            <button-->
<!--                    th:onclick="'location.href=\'/member/reserve-history?page=' + @{${paging.page - 1}} + '&searchCondition=' + @{${paging.searchCondition}} + '&searchValue=' + @{${paging.searchValue}} + '\''"-->
<!--                    th:disabled="${ paging.page <= 1 }">&lt;</button>-->

<!--            &lt;!&ndash; 숫자 버튼 &ndash;&gt;-->
<!--            <th:block-->
<!--                    th:each="page : ${ #numbers.sequence(paging.startPage, paging.endPage)}">-->
<!--                <button-->
<!--                        th:onclick="'location.href=\'/member/reserve-history?page=' + @{${page}} + '&searchCondition=' + @{${paging.searchCondition}} + '&searchValue=' + @{${paging.searchValue}} + '\''"-->
<!--                        th:text="${ page }" th:disabled="${ paging.page eq page }">-->
<!--                </button>-->
<!--            </th:block>-->

<!--            &lt;!&ndash; 다음 페이지로 이동 &ndash;&gt;-->
<!--            <button-->
<!--                    th:onclick="'location.href=\'/member/reserve-history?page=' + @{${paging.page + 1}} + '&searchCondition=' + @{${paging.searchCondition}} + '&searchValue=' + @{${paging.searchValue}} + '\''"-->
<!--                    th:disabled="${ paging.page >= paging.maxPage }">></button>-->

<!--            &lt;!&ndash; 맨 끝으로 이동 &ndash;&gt;-->
<!--            <button-->
<!--                    th:onclick="'location.href=\'/member/reserve-history?page=' + @{${paging.maxPage}} + '&searchCondition=' + @{${paging.searchCondition}} + '&searchValue=' + @{${paging.searchValue}} + '\''">>></button>-->

<!--            </th:block>-->



<!-- common footer -->
<div th:replace="common/footer.html"></div>
</body>
</html>